
@model List<Product>
@{
    ViewBag.Title = "ProductTable";
}

<div>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th class="font-weight-bold">Product Name</th>
                <th class="font-weight-bold">Category</th>
                <th class="font-weight-bold">Price</th>
                <th class="font-weight-bold">Actions</th>
            </tr>
        </thead>

        <tbody>
        @foreach (var product in Model)
        {
            <tr>
                <td>@product.Name</td>
                <td>
                    @if (product.Category != null)
                    {
                        <text>@product.Category.Name</text>
                    }
                    else
                    {
                        <text>-</text>
                    }
                </td>
                <td>@product.Price</td>
                <td class="wrap-td">
                    <button type="button" id="editBtn" class="edit-new-btn" data-id="@product.ID">Edit</button>
                    <button type="button" id="deleteBtn" class="delete-btn" data-id="@product.ID">Delete</button>
                    <button type="button" id="addtocartBtn" class="addtocart-btn" data-id="@product.ID">Add To Cart</button>
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>


<script>
    jQuery(document).ready(function () {
        var products = [];
        jQuery(".addtocart-btn").on("click",
            function () {
                var productID = jQuery(this).attr('data-id');
                products.push(productID);
                jQuery.cookie("CartProducts", products.join('-'), { path: '/' });
                alert("Added");
            });
    });
</script>
